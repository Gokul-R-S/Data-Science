# Expense Management System üí∞  

Track, analyze, and manage your expenses efficiently with this streamlined Expense Management System. The application includes a FastAPI backend for database operations and a Streamlit frontend for interactive expense management and visualization.  

## Features   
1. **Add/Update Expenses** üìù  
   Record and modify your daily expenses with categories like Rent, Food, Shopping, and more.  
2. **Category Analysis** üìä  
   Visualize expense breakdown by categories over a specified date range.  
3. **Monthly Trends** üìÖ  
   Track monthly expense trends with an interactive bar chart and summary table.  

---

## Project Structure  
- **frontend/**: Contains the Streamlit application code.  
- **backend/**: Contains the FastAPI backend server code.  
- **tests/**: Contains the test cases for both frontend and backend.  
- **requirements.txt**: Lists the required Python packages.  
- **README.md**: Provides an overview and instructions for the project.  
- **.env**: Environment variables for configuration (e.g., database credentials, API URL).  
- **expense_db_creation.sql**: SQL script to set up the MySQL database schema.  
- **server.log**: Log file generated by the backend for debugging.  
- **.gitignore**: Specifies files and directories to exclude from version control.  

---

## Workflow Overview   
1. User interacts with the Streamlit frontend.  
2. Streamlit communicates with the FastAPI backend.  
3. Backend performs CRUD operations and analytics using a MySQL database.  

![Image](https://github.com/user-attachments/assets/dcced401-43b3-4bf1-88c1-59c9e4d569e5)

---

## Application Architecture  

### **Frontend Layer - Streamlit**  
- **Main App**  
  - **Tab Navigation**  
    - **Add/Update Tab**  
      - GET/POST: `/expenses/{date}`  
    - **Category Analysis Tab**  
      - GET: `/analytics`  
    - **Monthly Trends Tab**  
      - GET: `/months`  

### **API Layer - FastAPI**  
- `/expenses/{date}` (GET/POST)  
- `/analytics` (GET)  
- `/months` (GET)  

### **Database Layer**  
- **MySQL Database**  

---

### **Data Flow**  
1. The **Main App** in Streamlit allows users to navigate between tabs.  
2. Each tab interacts with the API endpoints:  
   - Add/Update Tab ‚Üí `/expenses/{date}` for retrieving or saving expenses.  
   - Category Analysis Tab ‚Üí `/analytics` for analytics operations.  
   - Monthly Trends Tab ‚Üí `/months` for fetching trend data.  
3. API endpoints communicate with the **MySQL Database** for data persistence.  

---

## üñ•Ô∏è Tabs in the Application

### üìù **Add / Update Expenses**
Manage your daily expenses by selecting a date, entering the amount, choosing a category, and adding optional notes.

![Add Update](https://github.com/user-attachments/assets/627e88ff-01ca-444f-9008-68dc555dbfe5)

---

### üìä **Category Analysis**
View a breakdown of your expenses by category, along with percentages and intuitive bar charts for better understanding.

![Category Analysis](https://github.com/user-attachments/assets/922abf9c-b5f9-46cb-9bd1-cbafb2e8bc2e)

---

### üìÖ **Monthly Trends**
Explore how your expenses change over time, month by month, with insightful visualizations.

![Monthly Trends](https://github.com/user-attachments/assets/226b47eb-235d-42f9-a863-357a426d3dd0)


---

## Technical Stack üõ†Ô∏è  

### Backend:  
- **FastAPI:** RESTful API for handling expense data.  
- **MySQL:** Database for storing expense records.  
- **Pydantic:** Validation of request and response models.  
- **python-dotenv:** Loads environment variables from `.env`.  

### Frontend:  
- **Streamlit:** Interactive dashboards for user-friendly visualization.  
- **Pandas:** Data manipulation for analytics visualization.  

### Testing:  
- **Postman:** Used for testing API endpoints.  
- **Pytest:** Unit tests for backend and frontend functionality.  
- **unittest.mock:** Mocking dependencies in tests.  

### Logging:  
- **Custom Logger:** Tracks API requests and database interactions for debugging and monitoring.  

---

## How to Run Locally

1. **Clone the Repository**:  

   ```bash
   git clone <repository-url>
   cd Expense-Management-System
   ```
2. **Install Dependencies**:
   
   ```bash
   pip install -r requirements.txt
   ```
3. **Set Up MySQL**:
     
   - Install MySQL and create a database (e.g., `expense_manager`).  
   - Run the `expense_db_creation.sql` script to set up the schema:
       
     ```bash
     mysql -u <username> -p <database_name> < expense_db_creation.sql
     ```
4. **Configure Environment Variables**:
    
   Create a `.env` file in the project root with the following:
    
     ```plaintext
     DB_HOST=localhost
     DB_USER=<your-mysql-username>
     DB_PASSWORD=<your-mysql-password>
     DB_NAME=expense_manager
     API_URL=http://localhost:8000
     ```
5. **Run the FastAPI Server**:
   
   Navigate to the `backend` directory:
   
     ```bash
     cd backend
     uvicorn server:app --reload
     ```
6. **Start the Streamlit Frontend**:
   
   Open a new terminal, navigate to the `frontend` directory:
  
     ```bash
     cd frontend
     streamlit run app.py
     ```
7. **Access the Application**:  
   - Open your browser to `http://localhost:8501` for the Streamlit frontend.  
   - The FastAPI server runs at `http://localhost:8000` (test endpoints via Postman or browser).  

---

## Running Tests üß™ 
1. **Ensure You're in the Root Directory**:  
   - Make sure you‚Äôre in the project‚Äôs root directory (e.g., `Expense-Management-System`), where the `tests` folder is located.  
2. **Run Pytest**:  
   ```bash
   pytest -v
   ```
   - Ensure the MySQL database is running for `tests/test_db_helper.py` to pass (or mock the database connection).  
---

## Future Enhancements üåü  
- Implement user authentication.  
- Add data export functionality.  
- Support multiple currencies for expenses.  
- Add real-time notifications for budget limits.  

---

## Troubleshooting ‚ö†Ô∏è  
- **Database Connection Issues**: Verify MySQL is running and `.env` credentials are correct.  
- **API Errors**: Check `server.log` in the `backend` directory for detailed logs.  
- **Frontend Not Loading**: Ensure the FastAPI server is running and `API_URL` in `.env` matches the server address.  





