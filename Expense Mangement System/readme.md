<h1 align="center">Expense Management System</h1>

Track, analyze, and manage your expenses efficiently with this streamlined Expense Management System. The application includes a FastAPI backend for database operations and a Streamlit frontend for interactive expense management and visualization.  

## Features   
1. **Add/Update Expenses** üìù  
   Record and modify your daily expenses with categories like Rent, Food, Shopping, and more.  
2. **Category Analysis** üìä  
   Visualize expense breakdown by categories over a specified date range.  
3. **Monthly Trends** üìÖ  
   Track monthly expense trends with an interactive bar chart and summary table.  

---

## Project Structure  
- **frontend/**: Contains the Streamlit application code.  
- **backend/**: Contains the FastAPI backend server code.  
- **tests/**: Contains the test cases for both frontend and backend.  
- **requirements.txt**: Lists the required Python packages.  
- **README.md**: Provides an overview and instructions for the project.  
- **.env**: Environment variables for configuration (e.g., database credentials, API URL).  
- **expense_db_creation.sql**: SQL script to set up the MySQL database schema.  
- **server.log** and **frontend.log**: Log files generated by the backend and frontend, respectively, for debugging.
- **.gitignore**: Specifies files and directories to exclude from version control.  

---

## Workflow Overview   
1. User interacts with the Streamlit frontend.  
2. Streamlit communicates with the FastAPI backend.  
3. Backend performs CRUD operations and analytics using a MySQL database.  

![Image](https://github.com/user-attachments/assets/b78d4514-2797-4f52-9ad0-1e1a8161812b)

---

## Application Architecture  

### **Frontend Layer - Streamlit**  
- **Main App**  
  - **Tab Navigation**  
    - **Add/Update Tab**  
      - GET/POST: `/expenses/{date}`  
    - **Category Analysis Tab**  
      - GET: `/analytics`  
    - **Monthly Trends Tab**  
      - GET: `/months`  

### **API Layer - FastAPI**  
- `/expenses/{date}` (GET/POST)  
- `/analytics` (GET)  
- `/months` (GET)  

### **Database Layer**  
- **MySQL Database**  

---

### **Data Flow**  
1. The **Main App** in Streamlit allows users to navigate between tabs.  
2. Each tab interacts with the API endpoints:  
   - Add/Update Tab ‚Üí `/expenses/{date}` for retrieving or saving expenses.  
   - Category Analysis Tab ‚Üí `/analytics` for analytics operations.  
   - Monthly Trends Tab ‚Üí `/months` for fetching trend data.  
3. API endpoints communicate with the **MySQL Database** for data persistence.  

---

## Tabs in the Application üñ•Ô∏è  
- **Add/Update Expenses:** Manage expenses by selecting a date, amount, category, and notes.  

![Image](https://github.com/user-attachments/assets/e7c278ea-3eac-4606-889d-57ab8f91297c)
- **Category Analysis:** View category-wise expense breakdown with percentages and bar charts.  

![Image](https://github.com/user-attachments/assets/018ba322-f157-48cc-9317-4825fdc84194)
- **Monthly Trends:** Explore expense trends over months with detailed insights.  

![Image](https://github.com/user-attachments/assets/4f0099b5-366b-4dd3-8943-6ba94dbd96fd)

---

## Technical Stack üõ†Ô∏è  

### Backend:  
- **FastAPI:** Framework used to build the API for managing expense data.  
- **MySQL:** Database for storing expense records.  
- **Pydantic:** Validation of request and response models.  
- **python-dotenv:** Loads environment variables from `.env`.  

### Frontend:  
- **Streamlit:** Interactive dashboards for user-friendly visualization.  
- **Pandas:** Data manipulation for analytics visualization.  

### Testing:  
- **Postman:** Used for testing API endpoints.  
- **Pytest:** Unit tests for backend and frontend functionality.  
- **Pytest-mock:** Mocking dependencies in tests.  

### Logging:  
- **Python Logging:** Separate `server.log` and `frontend.log` files for debugging, with custom logger setup for formatted output and file handling.

---

## How to Run Locally   
1. **Clone the Repository**:  
   ```bash
   git clone <repository-url>
   cd Expense-Management-System
   ```
2. **Install Dependencies**:  
   ```bash
   pip install -r requirements.txt
   ```
3. **Set Up MySQL**:  
   - Install MySQL and create a database (e.g., `expense_manager`).  
   - Run the `expense_db_creation.sql` script to set up the schema:  
     ```bash
     mysql -u <username> -p <database_name> < expense_db_creation.sql
     ```
4. **Configure Environment Variables**:  
   - Create a `.env` file in the project root with the following:  
     ```plaintext
     DB_HOST=localhost
     DB_USER=<your-mysql-username>
     DB_PASSWORD=<your-mysql-password>
     DB_NAME=expense_manager
     API_URL=http://localhost:8000
     ```
5. **Run the FastAPI Server**:  
   - Navigate to the `backend` directory:  
     ```bash
     cd backend
     uvicorn server:app --reload
     ```
6. **Start the Streamlit Frontend**:  
   - Open a new terminal, navigate to the `frontend` directory:  
     ```bash
     cd frontend
     streamlit run app.py
     ```
7. **Access the Application**:  
   - Open your browser to `http://localhost:8501` for the Streamlit frontend.  
   - The FastAPI server runs at `http://localhost:8000` (test endpoints via Postman or browser).  

---

## Running Tests üß™ 
1. **Ensure You're in the Root Directory**:  
   - Make sure you‚Äôre in the project‚Äôs root directory (e.g., `Expense-Management-System`), where the `tests` folder is located.  
2. **Run Pytest**:  
   ```bash
   pytest -v
   ```
---

## Future Enhancements üåü  
- Implement user authentication.  
- Add data export functionality.
- Add real-time notifications for budget limits.  

---

## Troubleshooting üö®  
- **Database Connection Issues**: Verify MySQL is running and `.env` credentials are correct.  
- **API Errors**: Check `server.log` in the `backend` directory for detailed backend logs.  
- **Frontend Not Loading**: Ensure the FastAPI server is running, `API_URL` in `.env` matches the server address, and check `frontend.log` in the `backend` directory for frontend-specific logs.







